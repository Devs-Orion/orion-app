{"ast":null,"code":"var _AuthService;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/fire/compat/auth\";\nimport * as i2 from \"@angular/router\";\nexport class AuthService {\n  constructor(afAuth, router) {\n    this.afAuth = afAuth;\n    this.router = router;\n    this.afAuth.authState.subscribe(user => {\n      if (user) {\n        this.userData = user;\n        localStorage.setItem('user', JSON.stringify(this.userData));\n      } else {\n        localStorage.removeItem('user');\n      }\n    });\n  }\n  // Iniciar sesión con correo y contraseña\n  signIn(email, password) {\n    return this.afAuth.signInWithEmailAndPassword(email, password).then(result => {\n      this.router.navigate(['home']);\n    }).catch(error => {\n      window.alert(error.message);\n    });\n  }\n  // Cerrar sesión\n  signOut() {\n    return this.afAuth.signOut().then(() => {\n      localStorage.removeItem('user');\n      this.router.navigate(['login']);\n    });\n  }\n  // Comprobar si el usuario está logueado\n  get isLoggedIn() {\n    const user = localStorage.getItem('user');\n    return user !== null;\n  }\n}\n_AuthService = AuthService;\n_AuthService.ɵfac = function AuthService_Factory(__ngFactoryType__) {\n  return new (__ngFactoryType__ || _AuthService)(i0.ɵɵinject(i1.AngularFireAuth), i0.ɵɵinject(i2.Router));\n};\n_AuthService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: _AuthService,\n  factory: _AuthService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"names":["AuthService","constructor","afAuth","router","authState","subscribe","user","userData","localStorage","setItem","JSON","stringify","removeItem","signIn","email","password","signInWithEmailAndPassword","then","result","navigate","catch","error","window","alert","message","signOut","isLoggedIn","getItem","i0","ɵɵinject","i1","AngularFireAuth","i2","Router","factory","ɵfac","providedIn"],"sources":["C:\\Users\\Omar\\Desktop\\ORION\\orion\\src\\app\\services\\auth.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { AngularFireAuth } from '@angular/fire/compat/auth';\r\nimport { Router } from '@angular/router';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthService {\r\n  userData: any; // Guarda los datos del usuario logueado\r\n\r\n  constructor(\r\n    private afAuth: AngularFireAuth,\r\n    private router: Router\r\n  ) {\r\n    this.afAuth.authState.subscribe(user => {\r\n      if (user) {\r\n        this.userData = user;\r\n        localStorage.setItem('user', JSON.stringify(this.userData));\r\n      } else {\r\n        localStorage.removeItem('user');\r\n      }\r\n    });\r\n  }\r\n\r\n  // Iniciar sesión con correo y contraseña\r\n  signIn(email: string, password: string) {\r\n    return this.afAuth.signInWithEmailAndPassword(email, password)\r\n      .then(result => {\r\n        this.router.navigate(['home']);\r\n      }).catch(error => {\r\n        window.alert(error.message);\r\n      });\r\n  }\r\n\r\n  // Cerrar sesión\r\n  signOut() {\r\n    return this.afAuth.signOut().then(() => {\r\n      localStorage.removeItem('user');\r\n      this.router.navigate(['login']);\r\n    });\r\n  }\r\n\r\n  // Comprobar si el usuario está logueado\r\n  get isLoggedIn(): boolean {\r\n    const user = localStorage.getItem('user');\r\n    return user !== null;\r\n  }\r\n}\r\n"],"mappings":";;;;AAOA,OAAM,MAAOA,WAAW;EAGtBC,YACUC,MAAuB,EACvBC,MAAc;IADd,KAAAD,MAAM,GAANA,MAAM;IACN,KAAAC,MAAM,GAANA,MAAM;IAEd,IAAI,CAACD,MAAM,CAACE,SAAS,CAACC,SAAS,CAACC,IAAI,IAAG;MACrC,IAAIA,IAAI,EAAE;QACR,IAAI,CAACC,QAAQ,GAAGD,IAAI;QACpBE,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACJ,QAAQ,CAAC,CAAC;MAC7D,CAAC,MAAM;QACLC,YAAY,CAACI,UAAU,CAAC,MAAM,CAAC;MACjC;IACF,CAAC,CAAC;EACJ;EAEA;EACAC,MAAMA,CAACC,KAAa,EAAEC,QAAgB;IACpC,OAAO,IAAI,CAACb,MAAM,CAACc,0BAA0B,CAACF,KAAK,EAAEC,QAAQ,CAAC,CAC3DE,IAAI,CAACC,MAAM,IAAG;MACb,IAAI,CAACf,MAAM,CAACgB,QAAQ,CAAC,CAAC,MAAM,CAAC,CAAC;IAChC,CAAC,CAAC,CAACC,KAAK,CAACC,KAAK,IAAG;MACfC,MAAM,CAACC,KAAK,CAACF,KAAK,CAACG,OAAO,CAAC;IAC7B,CAAC,CAAC;EACN;EAEA;EACAC,OAAOA,CAAA;IACL,OAAO,IAAI,CAACvB,MAAM,CAACuB,OAAO,EAAE,CAACR,IAAI,CAAC,MAAK;MACrCT,YAAY,CAACI,UAAU,CAAC,MAAM,CAAC;MAC/B,IAAI,CAACT,MAAM,CAACgB,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;IACjC,CAAC,CAAC;EACJ;EAEA;EACA,IAAIO,UAAUA,CAAA;IACZ,MAAMpB,IAAI,GAAGE,YAAY,CAACmB,OAAO,CAAC,MAAM,CAAC;IACzC,OAAOrB,IAAI,KAAK,IAAI;EACtB;;eAvCWN,WAAW;;mCAAXA,YAAW,EAAA4B,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,eAAA,GAAAH,EAAA,CAAAC,QAAA,CAAAG,EAAA,CAAAC,MAAA;AAAA;;SAAXjC,YAAW;EAAAkC,OAAA,EAAXlC,YAAW,CAAAmC,IAAA;EAAAC,UAAA,EAFV;AAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}