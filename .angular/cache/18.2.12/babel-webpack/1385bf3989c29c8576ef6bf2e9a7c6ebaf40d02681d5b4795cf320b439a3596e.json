{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Omar/Desktop/ORION/orion/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _LoginPage;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/auth.service\";\nimport * as i2 from \"@ionic/angular\";\nimport * as i3 from \"@angular/router\";\nexport class LoginPage {\n  // Inyecta el AuthService y Router\n  constructor(authService, toastController, router // Agrega Router al constructor\n  ) {\n    this.authService = authService;\n    this.toastController = toastController;\n    this.router = router;\n    this.email = '';\n    this.password = '';\n    this.passwordFieldType = 'password'; // Usamos passwordFieldType para controlar la visibilidad\n    this.passwordToggleIcon = 'eye-off'; // Usamos passwordToggleIcon para el ícono\n  }\n  // Método para manejar el inicio de sesión\n  onSubmit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (!_this.email || !_this.password) {\n        _this.presentToast('Por favor, complete ambos campos.', 'danger');\n        return;\n      }\n      try {\n        yield _this.authService.signIn(_this.email, _this.password);\n        _this.presentToast('¡Inicio de sesión exitoso!', 'success');\n        // Redirige a la página de inicio después del login exitoso\n        _this.router.navigate(['/inicio']); // Usa router para redirigir\n        // Limpiar campos de formulario\n        _this.email = '';\n        _this.password = '';\n      } catch (error) {\n        _this.presentToast('Error al iniciar sesión: ' + error.message, 'danger');\n      }\n    })();\n  }\n  // Método para alternar la visibilidad de la contraseña\n  togglePasswordVisibility() {\n    this.passwordFieldType = this.passwordFieldType === 'password' ? 'text' : 'password';\n    this.passwordToggleIcon = this.passwordToggleIcon === 'eye-off' ? 'eye' : 'eye-off';\n  }\n  // Método para mostrar un mensaje toast\n  presentToast(message, color) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const toast = yield _this2.toastController.create({\n        message,\n        color,\n        duration: 2000,\n        position: 'top'\n      });\n      yield toast.present();\n    })();\n  }\n}\n_LoginPage = LoginPage;\n_LoginPage.ɵfac = function LoginPage_Factory(__ngFactoryType__) {\n  return new (__ngFactoryType__ || _LoginPage)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.ToastController), i0.ɵɵdirectiveInject(i3.Router));\n};\n_LoginPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _LoginPage,\n  selectors: [[\"app-login\"]],\n  decls: 2,\n  vars: 0,\n  template: function LoginPage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"hola\");\n      i0.ɵɵelementEnd();\n    }\n  },\n  styles: [\".dark-theme[_ngcontent-%COMP%] {\\n  --ion-background-color: linear-gradient(145deg, #1e1e1e, #3a3a3a);\\n  --ion-text-color: #ffffff;\\n}\\n\\n.logo-container[_ngcontent-%COMP%] {\\n  margin-top: 50px;\\n  margin-bottom: 30px;\\n}\\n\\n.logo[_ngcontent-%COMP%] {\\n  border-radius: 50%;\\n  box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);\\n}\\n\\n.dark-item[_ngcontent-%COMP%] {\\n  --background: transparent;\\n  --color: #ffffff;\\n  --placeholder-color: #888;\\n  border-bottom: 1px solid #555;\\n  margin: 15px 0;\\n}\\n\\nion-toolbar[color=dark][_ngcontent-%COMP%] {\\n  --background: #222;\\n  --color: #ffffff;\\n}\\n\\n.login-button[_ngcontent-%COMP%] {\\n  --background: linear-gradient(145deg, #444, #666);\\n  --color: #ffffff;\\n  border-radius: 20px;\\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);\\n  transition: background 0.3s, box-shadow 0.3s;\\n}\\n\\n.login-button[_ngcontent-%COMP%]:hover {\\n  --background: linear-gradient(145deg, #666, #888);\\n  box-shadow: 0 6px 15px rgba(0, 0, 0, 0.5);\\n}\\n\\nion-input[_ngcontent-%COMP%]::part(native) {\\n  color: #ffffff;\\n  border-bottom: 1px solid #555;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbG9naW4vbG9naW4ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksaUVBQUE7RUFDQSx5QkFBQTtBQUNKOztBQUVFO0VBQ0UsZ0JBQUE7RUFDQSxtQkFBQTtBQUNKOztBQUVFO0VBQ0Usa0JBQUE7RUFDQSx1Q0FBQTtBQUNKOztBQUVFO0VBQ0UseUJBQUE7RUFDQSxnQkFBQTtFQUNBLHlCQUFBO0VBQ0EsNkJBQUE7RUFDQSxjQUFBO0FBQ0o7O0FBRUU7RUFDRSxrQkFBQTtFQUNBLGdCQUFBO0FBQ0o7O0FBRUU7RUFDRSxpREFBQTtFQUNBLGdCQUFBO0VBQ0EsbUJBQUE7RUFDQSx5Q0FBQTtFQUNBLDRDQUFBO0FBQ0o7O0FBRUU7RUFDRSxpREFBQTtFQUNBLHlDQUFBO0FBQ0o7O0FBRUU7RUFDRSxjQUFBO0VBQ0EsNkJBQUE7QUFDSiIsInNvdXJjZXNDb250ZW50IjpbIi5kYXJrLXRoZW1lIHtcclxuICAgIC0taW9uLWJhY2tncm91bmQtY29sb3I6IGxpbmVhci1ncmFkaWVudCgxNDVkZWcsICMxZTFlMWUsICMzYTNhM2EpO1xyXG4gICAgLS1pb24tdGV4dC1jb2xvcjogI2ZmZmZmZjtcclxuICB9XHJcbiAgXHJcbiAgLmxvZ28tY29udGFpbmVyIHtcclxuICAgIG1hcmdpbi10b3A6IDUwcHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAzMHB4O1xyXG4gIH1cclxuICBcclxuICAubG9nbyB7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICBib3gtc2hhZG93OiAwIDAgMTVweCByZ2JhKDAsIDAsIDAsIDAuNSk7XHJcbiAgfVxyXG4gIFxyXG4gIC5kYXJrLWl0ZW0ge1xyXG4gICAgLS1iYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcclxuICAgIC0tY29sb3I6ICNmZmZmZmY7XHJcbiAgICAtLXBsYWNlaG9sZGVyLWNvbG9yOiAjODg4O1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICM1NTU7XHJcbiAgICBtYXJnaW46IDE1cHggMDtcclxuICB9XHJcbiAgXHJcbiAgaW9uLXRvb2xiYXJbY29sb3I9XCJkYXJrXCJdIHtcclxuICAgIC0tYmFja2dyb3VuZDogIzIyMjtcclxuICAgIC0tY29sb3I6ICNmZmZmZmY7XHJcbiAgfVxyXG4gIFxyXG4gIC5sb2dpbi1idXR0b24ge1xyXG4gICAgLS1iYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTQ1ZGVnLCAjNDQ0LCAjNjY2KTtcclxuICAgIC0tY29sb3I6ICNmZmZmZmY7XHJcbiAgICBib3JkZXItcmFkaXVzOiAyMHB4O1xyXG4gICAgYm94LXNoYWRvdzogMCA0cHggMTBweCByZ2JhKDAsIDAsIDAsIDAuMyk7XHJcbiAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIDAuM3MsIGJveC1zaGFkb3cgMC4zcztcclxuICB9XHJcbiAgXHJcbiAgLmxvZ2luLWJ1dHRvbjpob3ZlciB7XHJcbiAgICAtLWJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxNDVkZWcsICM2NjYsICM4ODgpO1xyXG4gICAgYm94LXNoYWRvdzogMCA2cHggMTVweCByZ2JhKDAsIDAsIDAsIDAuNSk7XHJcbiAgfVxyXG4gIFxyXG4gIGlvbi1pbnB1dDo6cGFydChuYXRpdmUpIHtcclxuICAgIGNvbG9yOiAjZmZmZmZmO1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICM1NTU7XHJcbiAgfVxyXG4gICJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"names":["LoginPage","constructor","authService","toastController","router","email","password","passwordFieldType","passwordToggleIcon","onSubmit","_this","_asyncToGenerator","presentToast","signIn","navigate","error","message","togglePasswordVisibility","color","_this2","toast","create","duration","position","present","i0","ɵɵdirectiveInject","i1","AuthService","i2","ToastController","i3","Router","selectors","decls","vars","template","LoginPage_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd"],"sources":["C:\\Users\\Omar\\Desktop\\ORION\\orion\\src\\app\\login\\login.page.ts","C:\\Users\\Omar\\Desktop\\ORION\\orion\\src\\app\\login\\login.page.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { AuthService } from '../services/auth.service';\r\nimport { ToastController } from '@ionic/angular';\r\nimport { Router } from '@angular/router';  // Importa el Router\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.page.html',\r\n  styleUrls: ['./login.page.scss'],\r\n})\r\nexport class LoginPage {\r\n  email: string = '';\r\n  password: string = '';\r\n  passwordFieldType: string = 'password'; // Usamos passwordFieldType para controlar la visibilidad\r\n  passwordToggleIcon: string = 'eye-off'; // Usamos passwordToggleIcon para el ícono\r\n\r\n  // Inyecta el AuthService y Router\r\n  constructor(\r\n    public authService: AuthService,\r\n    public toastController: ToastController,\r\n    private router: Router  // Agrega Router al constructor\r\n  ) {}\r\n\r\n  // Método para manejar el inicio de sesión\r\n  async onSubmit() {\r\n    if (!this.email || !this.password) {\r\n      this.presentToast('Por favor, complete ambos campos.', 'danger');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await this.authService.signIn(this.email, this.password);\r\n      this.presentToast('¡Inicio de sesión exitoso!', 'success');\r\n      \r\n      // Redirige a la página de inicio después del login exitoso\r\n      this.router.navigate(['/inicio']);  // Usa router para redirigir\r\n\r\n      // Limpiar campos de formulario\r\n      this.email = '';\r\n      this.password = '';\r\n    } catch (error: any) {\r\n      this.presentToast('Error al iniciar sesión: ' + error.message, 'danger');\r\n    }\r\n  }\r\n\r\n  // Método para alternar la visibilidad de la contraseña\r\n  togglePasswordVisibility() { \r\n    this.passwordFieldType = this.passwordFieldType === 'password' ? 'text' : 'password';\r\n    this.passwordToggleIcon = this.passwordToggleIcon === 'eye-off' ? 'eye' : 'eye-off';\r\n  }\r\n\r\n  // Método para mostrar un mensaje toast\r\n  async presentToast(message: string, color: string) {\r\n    const toast = await this.toastController.create({\r\n      message,\r\n      color,\r\n      duration: 2000,\r\n      position: 'top'\r\n    });\r\n    await toast.present();\r\n  }\r\n}\r\n","<p>hola</p>"],"mappings":";;;;;;AAUA,OAAM,MAAOA,SAAS;EAMpB;EACAC,YACSC,WAAwB,EACxBC,eAAgC,EAC/BC,MAAc,CAAE;EAAA,E;IAFjB,KAAAF,WAAW,GAAXA,WAAW;IACX,KAAAC,eAAe,GAAfA,eAAe;IACd,KAAAC,MAAM,GAANA,MAAM;IAThB,KAAAC,KAAK,GAAW,EAAE;IAClB,KAAAC,QAAQ,GAAW,EAAE;IACrB,KAAAC,iBAAiB,GAAW,UAAU,CAAC,CAAC;IACxC,KAAAC,kBAAkB,GAAW,SAAS,CAAC,CAAC;EAOrC;EAEH;EACMC,QAAQA,CAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MACZ,IAAI,CAACD,KAAI,CAACL,KAAK,IAAI,CAACK,KAAI,CAACJ,QAAQ,EAAE;QACjCI,KAAI,CAACE,YAAY,CAAC,mCAAmC,EAAE,QAAQ,CAAC;QAChE;MACF;MAEA,IAAI;QACF,MAAMF,KAAI,CAACR,WAAW,CAACW,MAAM,CAACH,KAAI,CAACL,KAAK,EAAEK,KAAI,CAACJ,QAAQ,CAAC;QACxDI,KAAI,CAACE,YAAY,CAAC,4BAA4B,EAAE,SAAS,CAAC;QAE1D;QACAF,KAAI,CAACN,MAAM,CAACU,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAE;QAEpC;QACAJ,KAAI,CAACL,KAAK,GAAG,EAAE;QACfK,KAAI,CAACJ,QAAQ,GAAG,EAAE;MACpB,CAAC,CAAC,OAAOS,KAAU,EAAE;QACnBL,KAAI,CAACE,YAAY,CAAC,2BAA2B,GAAGG,KAAK,CAACC,OAAO,EAAE,QAAQ,CAAC;MAC1E;IAAC;EACH;EAEA;EACAC,wBAAwBA,CAAA;IACtB,IAAI,CAACV,iBAAiB,GAAG,IAAI,CAACA,iBAAiB,KAAK,UAAU,GAAG,MAAM,GAAG,UAAU;IACpF,IAAI,CAACC,kBAAkB,GAAG,IAAI,CAACA,kBAAkB,KAAK,SAAS,GAAG,KAAK,GAAG,SAAS;EACrF;EAEA;EACMI,YAAYA,CAACI,OAAe,EAAEE,KAAa;IAAA,IAAAC,MAAA;IAAA,OAAAR,iBAAA;MAC/C,MAAMS,KAAK,SAASD,MAAI,CAAChB,eAAe,CAACkB,MAAM,CAAC;QAC9CL,OAAO;QACPE,KAAK;QACLI,QAAQ,EAAE,IAAI;QACdC,QAAQ,EAAE;OACX,CAAC;MACF,MAAMH,KAAK,CAACI,OAAO,EAAE;IAAC;EACxB;;aAlDWxB,SAAS;;mCAATA,UAAS,EAAAyB,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,WAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,eAAA,GAAAL,EAAA,CAAAC,iBAAA,CAAAK,EAAA,CAAAC,MAAA;AAAA;;QAAThC,UAAS;EAAAiC,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,QAAA,WAAAC,mBAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCVtBb,EAAA,CAAAe,cAAA,QAAG;MAAAf,EAAA,CAAAgB,MAAA,WAAI;MAAAhB,EAAA,CAAAiB,YAAA,EAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}